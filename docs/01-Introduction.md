<!-- markdownlint-disable MD033 -->
# 系統總覽

## 資料內容

本 API 提供以桌為單位訂閱遊戲桌資料，每桌可以分開訂閱。每桌提供分為「管理資料」和「遊戲資料」兩大類：

**管理資料**包含開桌、關桌、維護、封面照片更新等管理相關操作。

**遊戲資料**包含班次、靴、局資料，以及發牌、開骰等每個動作的紀錄。

## 接口分類

本 API 所有資料都提供「主動推播」和「被動查詢」兩種方式：

**主動推播**：向我們 AMQP 接口訂閱，事件發生當下即時發送事件通知。

**被動查詢**：事件發生後，可以透過 gRPC / HTTP API 撈取資料。

## 資料結構

所有資料內容會分為以下四種物件：

- **GameProvide（遊戲桌）**：管理資料
- **ShiftRecord（班次）**：遊戲該班次資訊
- **ShoeRecord（靴次）**：該靴資訊
- **RoundRecord（局）**：該局資訊

## 資料流程

``` txt
遊戲桌 (GameProvide)
    ↓
班次 (ShiftRecord)
    ↓
靴次 (ShoeRecord) [部分遊戲可能沒有]
    ↓
局 (RoundRecord)
```

一個班次通常包含多靴、一靴可以多局。對於沒有靴的遊戲，只會有班次和局資料，一班次包含多局。

## 注意事項

1. 所有資料都有時間戳記，方便追蹤和查詢

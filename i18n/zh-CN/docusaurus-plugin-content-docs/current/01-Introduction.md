<!-- markdownlint-disable MD033 -->
# 系统总览

## 数据内容

本 API 提供以桌为单位订阅游戏桌数据，每桌可以分开订阅。每桌提供分为「管理数据」和「游戏数据」两大类：

**管理数据**包含开桌、关桌、维护、封面照片更新等管理相关操作。

**游戏数据**包含班次、靴、局数据，以及发牌、开骰等每个动作的记录。

## 接口分类

本 API 所有数据都提供「主动推送」和「被动查询」两种方式：

**主动推送**：向我们 AMQP 接口订阅，事件发生当下即时发送事件通知。

**被动查询**：事件发生后，可以通过 gRPC / HTTP API 获取数据。

## 数据结构

所有数据内容会分为以下四种对象：

- **GameProvide（游戏桌）**：管理数据
- **ShiftRecord（班次）**：游戏该班次信息
- **ShoeRecord（靴次）**：该靴信息
- **RoundRecord（局）**：该局信息

## 数据流程

``` txt
游戏桌 (GameProvide)
    ↓
班次 (ShiftRecord)
    ↓
靴次 (ShoeRecord) [部分游戏可能没有]
    ↓
局 (RoundRecord)
```

一个班次通常包含多靴、一靴可以多局。对于没有靴的游戏，只会有班次和局数据，一班次包含多局。

## 注意事项

1. 所有数据都有时间戳记，方便追踪和查询
